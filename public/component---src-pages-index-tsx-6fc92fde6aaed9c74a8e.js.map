{"version":3,"sources":["webpack:///./src/styles/Grids.js","webpack:///./src/components/LoadingGrid.tsx","webpack:///./src/utils/gql.ts","webpack:///./src/utils/useLatestData.ts","webpack:///./src/components/ItemGrid.tsx","webpack:///./src/pages/index.tsx"],"names":["HomePageGrid","styled","div","ItemsGrid","ItemStyles","LoadingGrid","count","Array","from","length","_","i","key","className","src","alt","width","height","String","useLatestData","useState","hotSlices","setHotSlices","slicemasters","setSlicemasters","deets","useEffect","fetch","process","method","headers","body","JSON","stringify","query","gql","then","res","json","jsonRes","data","StoreSettings","ItemGrid","items","map","item","name","image","asset","url","style","background","metadata","lqip","backgroundSize","CurrentlySlicing","HotSlices","Homepage"],"mappings":"uIAEaA,EAAeC,IAAOC,IAAV,0EAAGD,CAAH,4IAUZE,EAAYF,IAAOC,IAAV,uEAAGD,CAAH,0DAOTG,EAAaH,IAAOC,IAAV,wEAAGD,CAAH,ghBChBVI,EAAc,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OACzB,kBAACH,EAAD,KACGI,MAAMC,KAAK,CAAEC,OAAQH,IAAS,SAACI,EAAGC,GAAJ,OAC7B,kBAACP,EAAD,CAAYQ,IAAKD,GACf,uBAAGE,UAAU,QACX,0BAAMA,UAAU,QAAhB,eAEF,yBACEC,IAAI,iIACJD,UAAU,UACVE,IAAI,UACJC,MAAM,MACNC,OAAO,c,YCfFC,SAAf,I,oUCGA,IA8CeC,EA9CO,WAAM,MACQC,qBAA3BC,EADmB,KACRC,EADQ,OAEcF,qBAAjCG,EAFmB,KAELC,EAFK,KAGpBC,EAAQ,kJAwCd,OA7BAC,qBAAU,WACRC,MAAMC,+DAAqC,CACzCC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,MAAOC,EAAF,IAKKV,EAGAA,OAMXW,MAAK,SAACC,GAAD,OACNA,EAAIC,OAAOF,MAAK,SAACG,GACff,EAAgBe,EAAQC,KAAKC,cAAclB,cAC3CD,EAAaiB,EAAQC,KAAKC,cAAcpB,mBAG3C,IAEI,CAAEA,YAAWE,iBCrBPmB,EAtBE,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OACf,kBAACxC,EAAD,KACGwC,EAAMC,KAAI,SAACC,GAAD,OACT,kBAACzC,EAAD,CAAYQ,IAAKiC,EAAKC,MACpB,2BACE,0BAAMjC,UAAU,QAAQgC,EAAKC,OAE/B,yBACE9B,MAAM,MACNC,OAAO,MACPH,IAAQ+B,EAAKE,MAAMC,MAAMC,IAAtB,wBACHlC,IAAK8B,EAAKC,KACVI,MAAO,CACLC,WAAY,OAAON,EAAKE,MAAMC,MAAMI,SAASC,KAAnC,KACVC,eAAgB,iBCXtBC,EAAmB,SAAC,GAAD,IAAGhC,EAAH,EAAGA,aAAH,OACvB,6BACE,wBAAIV,UAAU,UACZ,0BAAMA,UAAU,aAAhB,qBAEF,mEACEU,GAAgB,kBAAC,EAAD,CAAajB,MAAO,IACrCiB,IAAgBA,aAAA,EAAAA,EAAcd,QAAS,GACtC,2DAEDc,aAAA,EAAAA,EAAcd,SAAU,kBAAC,EAAD,CAAUkC,MAAOpB,MAGxCiC,EAAY,SAAC,GAAD,IAAGnC,EAAH,EAAGA,UAAH,OAChB,6BACE,wBAAIR,UAAU,UACZ,0BAAMA,UAAU,aAAhB,mBAEF,mDACEQ,GAAa,kBAAC,EAAD,CAAaf,MAAO,IAClCe,IAAaA,aAAA,EAAAA,EAAWZ,QAAS,GAAK,2DACtCY,aAAA,EAAAA,EAAWZ,SAAU,kBAAC,EAAD,CAAUkC,MAAOtB,MAiB5BoC,UAdE,WAAM,MACetC,IAA5BI,EADa,EACbA,aAAcF,EADD,EACCA,UACtB,OACE,yBAAKR,UAAU,UACb,mDACA,0DACA,kBAACb,EAAD,KACE,kBAAC,EAAD,CAAkBuB,aAAcA,IAChC,kBAAC,EAAD,CAAWF,UAAWA","file":"component---src-pages-index-tsx-6fc92fde6aaed9c74a8e.js","sourcesContent":["import styled from 'styled-components';\n\nexport const HomePageGrid = styled.div`\n  display: grid;\n  gap: 2rem;\n  --columns: 2;\n  grid-template-columns: repeat(var(--columns), minmax(auto, 1fr));\n  @media (max-width: 800px) {\n    --columns: 1;\n  }\n`;\n\nexport const ItemsGrid = styled.div`\n  display: grid;\n  gap: 2rem;\n  grid-template-columns: 1fr 1fr;\n`;\n\n// Single Grid Item (for home page)\nexport const ItemStyles = styled.div`\n  text-align: center;\n  position: relative;\n  img {\n    height: auto;\n    font-size: 0;\n  }\n  p {\n    top: 0;\n    transform: rotate(-2deg) translateY(-10px);\n    position: absolute;\n    width: 100%;\n    left: 0;\n    margin: 0;\n    font-size: 2rem;\n    font-size: clamp(12px, 5vw, 20px);\n  }\n  .mark {\n    display: inline;\n  }\n  @keyframes shine {\n    from {\n      background-position: 200%;\n    }\n    to {\n      background-position: -40px;\n    }\n  }\n  img.loading {\n    --shine: white;\n    --background: var(--grey);\n    background-image: linear-gradient(\n      90deg,\n      var(--background) 0px,\n      var(--shine) 40px,\n      var(--background) 80px\n    );\n    background-size: 500px;\n    animation: shine 1s infinite linear;\n  }\n`;\n","import React from 'react';\nimport { ItemsGrid, ItemStyles } from '../styles/Grids';\n\nexport const LoadingGrid = ({ count }) => (\n  <ItemsGrid>\n    {Array.from({ length: count }, (_, i) => (\n      <ItemStyles key={i}>\n        <p className=\"mark\">\n          <span className=\"mark\">...Loading</span>\n        </p>\n        <img\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAECAYAAABGM/VAAAAAE0lEQVR42mP8z/CfiQENMFImCACVJQgF4YIqkwAAAABJRU5ErkJggg==\"\n          className=\"loading\"\n          alt=\"Loading\"\n          width=\"500\"\n          height=\"400\"\n        />\n      </ItemStyles>\n    ))}\n  </ItemsGrid>\n);\n","export default String.raw;\n","import { useState, useEffect } from 'react';\nimport gql from './gql';\n\nconst useLatestData = () => {\n  const [hotSlices, setHotSlices] = useState();\n  const [slicemasters, setSlicemasters] = useState();\n  const deets = `\n      name\n      _id\n      image {\n        asset {\n          url\n          metadata {\n            lqip\n          }\n        }\n      }`;\n  useEffect(() => {\n    fetch(process.env.GATSBY_GRAPHQL_ENDPOINT, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        query: gql`\n          query {\n            StoreSettings(id: \"downtown\") {\n              name\n              slicemasters {\n                ${deets}\n              }\n              hotSlices {\n                ${deets}\n              }\n            }\n          }\n        `,\n      }),\n    }).then((res) =>\n      res.json().then((jsonRes) => {\n        setSlicemasters(jsonRes.data.StoreSettings.slicemasters);\n        setHotSlices(jsonRes.data.StoreSettings.hotSlices);\n      })\n    );\n  }, []);\n\n  return { hotSlices, slicemasters };\n};\n\nexport default useLatestData;\n","import React from 'react';\nimport { ItemsGrid, ItemStyles } from '../styles/Grids';\n\nconst ItemGrid = ({ items }) => (\n  <ItemsGrid>\n    {items.map((item) => (\n      <ItemStyles key={item.name}>\n        <p>\n          <span className=\"mark\">{item.name}</span>\n        </p>\n        <img\n          width=\"500\"\n          height=\"400\"\n          src={`${item.image.asset.url}?w=500&h=400&fit=crop`}\n          alt={item.name}\n          style={{\n            background: `url(${item.image.asset.metadata.lqip}})`,\n            backgroundSize: 'cover',\n          }}\n        />\n      </ItemStyles>\n    ))}\n  </ItemsGrid>\n);\n\nexport default ItemGrid;\n","import React from 'react';\nimport { LoadingGrid } from '../components/LoadingGrid';\nimport { HomePageGrid } from '../styles/Grids';\nimport useLatestData from '../utils/useLatestData';\nimport ItemGrid from '../components/ItemGrid';\n\nconst CurrentlySlicing = ({ slicemasters }) => (\n  <div>\n    <h2 className=\"center\">\n      <span className=\"mark tilt\"> Slicemasters on</span>\n    </h2>\n    <p>Standing by - ready to slice you up</p>\n    {!slicemasters && <LoadingGrid count={4} />}\n    {slicemasters && slicemasters?.length < 1 && (\n      <p>No one is working right now</p>\n    )}\n    {slicemasters?.length && <ItemGrid items={slicemasters} />}\n  </div>\n);\nconst HotSlices = ({ hotSlices }) => (\n  <div>\n    <h2 className=\"center\">\n      <span className=\"mark tilt\"> Hot slices on</span>\n    </h2>\n    <p>Pizzas by the slice</p>\n    {!hotSlices && <LoadingGrid count={4} />}\n    {hotSlices && hotSlices?.length < 1 && <p>No one is working right now</p>}\n    {hotSlices?.length && <ItemGrid items={hotSlices} />}\n  </div>\n);\nconst Homepage = () => {\n  const { slicemasters, hotSlices } = useLatestData();\n  return (\n    <div className=\"center\">\n      <h1>Best Pizza Downtown</h1>\n      <p>Open 11am to 11pm Every day</p>\n      <HomePageGrid>\n        <CurrentlySlicing slicemasters={slicemasters} />\n        <HotSlices hotSlices={hotSlices} />\n      </HomePageGrid>\n    </div>\n  );\n};\n\nexport default Homepage;\n"],"sourceRoot":""}